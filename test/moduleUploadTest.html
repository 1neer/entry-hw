<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Module Upload Test</title>
</head>
<body>
<div>
    <!-- for real server -->
    <label for="httpsRadio">https :</label>
    <input type="radio" id="httpsRadio" name="targetAddress" value="https://hardware.playentry.org:23518/module" />

    <!-- for development (default) -->
    <label for="httpRadio">http :</label>
    <input type="radio" id="httpRadio" name="targetAddress" value="http://127.0.0.1:23518/module" checked />
</div>

<div>
    <!--
    select your module zip file.
    zip must be contain
    - module.js(business logic)
    - module.json(configuraion file)
    - module.png(thumbnail image file)
    -->
    <label for="moduleUploadInput">select module file : </label>
    <input type="file" id="moduleUploadInput"/>
    <button onclick="onFileUpload()">upload</button>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>
    function onFileUpload() {
        const checkedProtocolAddress = $('input:radio[name="targetAddress"]:checked').val();
        const fileObject = $('#moduleUploadInput')[0].files[0];

        <!-- don't use formData Object. data should be single File object. -->
        $.ajax({
            url: checkedProtocolAddress,
            type: 'POST',
            data: fileObject,
            processData: false,
        }).then((result) => {
            console.log(result);
        }).catch((error) => {
            console.error(error);
        });
    }
</script>

</body>
</html>
